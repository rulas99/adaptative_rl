% $Id: preamble.tex 3335 2012-10-31 10:43:42Z nicolas.cardozo $

%----[ Packages ]---

\usepackage{ifdraft}

\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{mathrsfs}
\usepackage{hyperref}
\usepackage{wasysym}
%\usepackage{pxfonts}
\usepackage{yfonts}
\usepackage[plain]{fancyref}
\usepackage{subcaption}
\let\labelindent\relax
\usepackage[final]{listings}
\usepackage{booktabs}
\usepackage{multirow}
%\usepackage{threeparttable}
\usepackage{xcolor,colortbl}
\usepackage{xspace}
\usepackage{suffix}
\usepackage{etoolbox}
\usepackage[inline]{enumitem}
\usepackage{acronym}
\usepackage{url}
\usepackage{textgreek} % Para caracteres griegos



% Package 'biblatex'
\usepackage[backend=bibtex,
   style=ieee,
   citestyle=numeric-comp,
   natbib=true,
   maxnames=7,
   minnames=1,
   maxcitenames=1, 
   mincitenames=1,
   giveninits=true,
   hyperref=true,
   sorting=none,
   defernumbers]{biblatex}

%\renewcommand{\bibfont}{\footnotesize}

\addbibresource{bib/general.bib}
\addbibresource{bib/compsci.bib}
\addbibresource{bib/learning.bib}
\addbibresource{local.bib}

%\AtEveryBibitem{%
%   \clearlist{address}
%   \clearfield{date}
%   \clearfield{doi}
%   \clearfield{eprint}
%   \clearfield{isbn}
%   \clearfield{issn}
%   \clearfield{month}
%   \clearfield{note}
%   \clearfield{arxivId}
%   \clearfield{pages}
%   \clearfield{volume}
%   \clearfield{number}
%   \clearlist{location}
%   \clearfield{series}
%   \clearfield{url}
%   \clearname{editor}
%   \ifentrytype{inproceedings}
%     {\clearfield{day}
%      \clearfield{month}
%      \clearfield{volume}}{}
%}
%
%\DeclareFieldFormat*{title}{\textsl{#1}\isdot}
%\DeclareFieldFormat*{journaltitle}{#1}
%\DeclareFieldFormat*{booktitle}{#1}
%
%\renewcommand{\bibfont}{\footnotesize}
%\renewbibmacro{in:}{} % supress 'In: ' form
%\renewbibmacro{ser.}{} % supress 'ser.: ' form
%
%\DeclareSourcemap
% {\maps[datatype=bibtex,overwrite]
%   {% Tag entries (through keywords)
%    \map
%      {\step[fieldsource=publisher,
%       match=\regexp{Association for Computing Machinery}, replace={ACM}]}
%    \map
%      {\step[fieldsource=booktitle,
%       match=\regexp{[Pp]roceedings}, replace={Proc.}]}
%    \map
%      {\step[fieldsource=booktitle,
%       match=\regexp{[Ii]nternational}, replace={Intl.}]}
%    \map
%      {\step[fieldsource=booktitle,
%       match=\regexp{[Cc]onference}, replace={Conf.}]}
%    \map
%      {\step[fieldsource=booktitle,
%       match=\regexp{[Ff]oundation[s]}, replace={Found.}]}
%    \map
%      {\step[fieldsource=booktitle,
%       match=\regexp{[Ss]oftware}, replace={Soft.}]}
%    \map
%      {\step[fieldsource=booktitle,
%       match=\regexp{[Ee]ngineering}, replace={Eng.}]}
%    \map
%      {\step[fieldsource=booktitle,
%       match=\regexp{[Ss]ymposium}, replace={Symp.}]}
%    \map
%      {\step[fieldsource=journal,
%       match=\regexp{[Jj]ournal}, replace={Jour.}]}
%    \map
%      {\step[fieldsource=journal,
%       match=\regexp{[Ii]nternational}, replace={Intl.}]}
%    \map
%      {\step[fieldsource=journal,
%       match=\regexp{[Aa]pplications}, replace={Apps.}]}
%    \map
%      {\step[fieldsource=journal,
%       match=\regexp{[Ss]ystems}, replace={Sys.}]}
%    \map
%      {\step[fieldsource=journal,
%       match=\regexp{[Tt]ransactions}, replace={Trans.}]}
%    \map
%      {\step[fieldsource=journal,
%       match=\regexp{[Aa]utonomous and Adaptive Systems}, replace={Auton. Adapt. Syst.}]}
%    \map
%      {\step[fieldsource=booktitle,
%       match=\regexp{[Pp]roceedings\s+of\s+the.+[Ee]uropean\s+[Cc]onference\s+in}, replace={European Conf. in}]}
%    \map
%      {\step[fieldsource=booktitle,
%       match=\regexp{In\s+[Pp]roceedings\s+of\s+the\s+[Ss]ymposium\s+on}, replace={Symp. on}]}
%     \map
%      {\step[fieldsource=publisher,
%       match=\regexp{[Aa]ssociation\s+for\s+[Cc]omputing\s+[Mm]achinery\s}, replace={ACM}]}
%     \map
%      {\step[fieldsource=booktitle,
%       match=\regexp{[Pp]roceedings\s+of\s+the\s+[Ii]nternational\s+[Cc]onference\s+on}, replace={Intl. Conf. on}]}
%    \map
%      {\step[fieldsource=booktitle,
%       match=\regexp{[Pp]roceedings\s+of\s+the\s+[Ii]nternational\s+[Ww]orkshop\s+on}, replace={Intl. Workshop on}]}}}


%\theoremstyle{plain}
%\newtheorem{theorem}{Theorem}
%\newtheorem{lemma}{Lemma}%[section]
%\newtheorem{cor}{Corollary}[theorem]
%\theoremstyle{definition}
%\newtheorem{definition}{Definition}
%\newtheorem{ex}{Example}

% Avoid italics in examples (it's awful to read)
%\let\origEx\ex
%\let\origendEx\endex
%\renewenvironment{ex}{\origEx\upshape}{\origendEx}


% fancyref
\def\fref{\Fref} % treat all \frefs as \Frefs
\renewcommand{\lstlistingname}{Snippet}
\newcommand*{\fancyreflstlabelprefix}{lst} % define lst delimiter
\newcommand*{\Freflstname}{\lstlistingname}
\newcommand*{\freflstname}{\lstlistingname}
\Frefformat{vario}{\fancyreflstlabelprefix}%
  {\Freflstname\fancyrefdefaultspacing#1#3}
\frefformat{vario}{\fancyreflstlabelprefix}%
  {\freflstname\fancyrefdefaultspacing#1#3}
\Frefformat{plain}{\fancyreflstlabelprefix}%
  {\Freflstname\fancyrefdefaultspacing#1}
\frefformat{plain}{\fancyreflstlabelprefix}%
  {\freflstname\fancyrefdefaultspacing#1}

\newcommand*{\fancyrefthmlabelprefix}{thm} % define thm delimiter
\newcommand*{\Frefthmname}{Theorem}%
\newcommand*{\frefthmname}{%
 \MakeLowercase{\Frefthmname}}%
\Frefformat{vario}{\fancyrefthmlabelprefix}%
  {\Frefthmname\fancyrefdefaultspacing#1#3}
\frefformat{vario}{\fancyrefthmlabelprefix}%
  {\frefthmname\fancyrefdefaultspacing#1#3}
\Frefformat{plain}{\fancyrefthmlabelprefix}%
  {\Frefthmname\fancyrefdefaultspacing#1}
\frefformat{plain}{\fancyrefthmlabelprefix}%
  {\frefthmname\fancyrefdefaultspacing#1}

\newcommand*{\fancyreflemlabelprefix}{lem} % define lem delimiter
\newcommand*{\Freflemname}{Lemma}%
\newcommand*{\freflemname}{%
 \MakeLowercase{\Freflemname}}%
\Frefformat{vario}{\fancyreflemlabelprefix}%
  {\Freflemname\fancyrefdefaultspacing#1#3}
\frefformat{vario}{\fancyreflemlabelprefix}%
  {\freflemname\fancyrefdefaultspacing#1#3}
\Frefformat{plain}{\fancyreflemlabelprefix}%
  {\Freflemname\fancyrefdefaultspacing#1}
\frefformat{plain}{\fancyreflemlabelprefix}%
  {\freflemname\fancyrefdefaultspacing#1}

\newcommand*{\fancyrefdeflabelprefix}{def} % define def delimiter
\newcommand*{\Frefdefname}{Definition}%
\newcommand*{\frefdefname}{%
 \MakeLowercase{\Frefdefname}}%
\Frefformat{vario}{\fancyrefdeflabelprefix}%
  {\Frefdefname\fancyrefdefaultspacing#1#3}
\frefformat{vario}{\fancyrefdeflabelprefix}%
  {\frefdefname\fancyrefdefaultspacing#1#3}
\Frefformat{plain}{\fancyrefdeflabelprefix}%
  {\Frefdefname\fancyrefdefaultspacing#1}
\frefformat{plain}{\fancyrefdeflabelprefix}%
  {\frefdefname\fancyrefdefaultspacing#1}

\newcommand*{\fancyreflnlabelprefix}{ln} % define ln delimiter
\newcommand*{\Freflnname}{Line}%
\newcommand*{\freflnname}{%
 \MakeLowercase{\Freflnname}}%
\Frefformat{vario}{\fancyreflnlabelprefix}%
  {\Freflnname\fancyrefdefaultspacing#1#3}
\frefformat{vario}{\fancyreflnlabelprefix}%
  {\freflnname\fancyrefdefaultspacing#1#3}
\Frefformat{plain}{\fancyreflnlabelprefix}%
  {\Freflnname\fancyrefdefaultspacing#1}
\frefformat{plain}{\fancyreflnlabelprefix}%
  {\freflnname\fancyrefdefaultspacing#1}

% listings

\lstset{%
  basicstyle=\footnotesize\ttfamily,
  aboveskip=0\baselineskip,
  belowskip=0\baselineskip,
  commentstyle=\scriptsize\itshape,
%  prebreak=\mbox{$\hookleftarrow$},
  breaklines,
  numberblanklines=false,
  numberstyle=\tiny\color{gray}, 
  numbersep=0pt,
  escapechar=`,  
  numberbychapter=false}
  
\lstdefinestyle{floating}
 {frame=lines,
  float=hptb,
  captionpos=b,
  abovecaptionskip=-0pt}

% context traits listings
\lstdefinestyle{py}
 {language=Python,
  showstringspaces=false,
  keywordstyle=\ttfamily\bfseries,
  tabsize=2,
  style=floating,
  belowskip=-0\baselineskip,
  aboveskip=-0\baselineskip,
  morekeywords={}
}

%context traits environment    
\lstnewenvironment{python}[1][]
 {\lstset{style=py,#1}}{}  

 % Context Traits in line source-code
\newcommand{\spy}[1]{\lstinline[style=py]{#1}}


%% Equations
\usepackage{tikz}
\usepackage[export]{adjustbox}
\usetikzlibrary{positioning,shadows,trees,mindmap}
\usetikzlibrary{arrows, shapes, backgrounds}
\usetikzlibrary{decorations.pathreplacing}
\usetikzlibrary{shapes.misc}
\usepackage[edges]{forest}
\usetikzlibrary{arrows.meta}
\colorlet{linecol}{black!75}
\usepackage{xkcdcolors} % xkcd colors
\usetikzlibrary{tikzmark}
\usetikzlibrary{calc}
% Commands for Highlighting text -- non tikz method
\newcommand{\highlight}[2]{\colorbox{#1!17}{#2}}
%\newcommand{\highlight}[2]{\colorbox{#1!17}{$#2$}}
\newcommand{\highlightdark}[2]{\colorbox{#1!47}{#2}}

  
%----[ Commands ]---


%Latins
\newcommand{\eg}{\emph{e.g.,}\xspace}
\newcommand{\ie}{\emph{i.e.,}\xspace}
\newcommand{\cf}{\emph{cf.}\xspace}

% Sets

\renewcommand{\emptyset}{\varnothing} % Redefine LaTeX version with AMS version

% Commands

\newcommand{\adaptiverl}{\textsc{morphin}\xspace}
\newcommand{\lrate}[1]{{\color{NavyBlue} $#1$}}

%comments
% xcolor
\definecolor{author}{rgb}{.5, .5, .5}
\definecolor{comment}{rgb}{.1, .0, .9}
\definecolor{note}{rgb}{.9, .4, .0}
\definecolor{idea}{rgb}{.1, .7, .0}
\definecolor{missing}{rgb}{.9, .1, .0}
\definecolor{OliveGreen}{rgb}{0,0.6,0.3}
\definecolor{Bittersweet}{rgb}{0.996,0.435,0.369}
\definecolor{RoyalBlue}{rgb}{0.25,0.41,0.88}
\definecolor{NavyBlue}{rgb}{0.0,0.4,0.8}
\definecolor{Mulberry}{rgb}{0.77,0.29,0.54}



\newcommand{\authorcomment}[3][comment]
  {\ifdraft{\noindent
      \fbox{\footnotesize\textcolor{author}{\textsc{#2}}}
      \textcolor{#1}{\textsl{#3}}}{}}


%----[ Hyphenation ]---

\hyphenation
  {a-vail-a-bil-i-ty
   im-ple-men-ta-tion
   caus-al-ly
   con-struct
   par-a-digm
   pro-gra-mming}

\makeatother

\endinput

